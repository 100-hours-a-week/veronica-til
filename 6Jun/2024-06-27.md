# TIL Template

# ë‚ ì§œ: 2024-06-27

# ìŠ¤í¬ëŸ¼
- âœ… ì˜¤ëŠ˜ í• ì¼ : ìŠ¤í„°ë””, í›… ë¶„ë¦¬í•˜ê¸°
- ğŸ™€ ì˜ˆìƒ ì´ìŠˆ : ì—†ìŒ
- ğŸ€ ì‘ì¼ íšŒê³  : ìŠ¤í„°ë”” ì¤€ë¹„ë¥¼ í–ˆë‹¤.

# today issue
- ì—†ìŒ

## ìŠ¤í„°ë””
![alt text](image-1.png)
![alt text](image-2.png)
**ìŠ¤í„°ë”” íšŒê³ **
- ì†ì„ ì•ˆì“°ë ¤ê³  ë…¸ë ¥ì„ ë§ì´ í–ˆëŠ”ë° ì´ì •ë„ë©´ ì ë‹¹í•˜ë‹¤ëŠ” í”¼ë“œë°±ì„ ë°›ì•„ì„œ ì¢‹ì•˜ë˜ ê²ƒ ê°™ë‹¤. ìŠ¤í”„ë§ ì§„ì§œ ëª°ë¼ì„œ ì´í•´í•˜ê¸°ë³´ë‹¤ëŠ” ì™¸ìš´ ëŠë‚Œì´ ê°œì¸ì ìœ¼ë¡œ ê°•í•´ì„œ ë§ì´ ì•„ì‰¬ìš´ ê²ƒ ê°™ë‹¤. ëŒ€ë‹µë„ ëª‡ê°œ ëª»í–ˆì§€ë§Œ ê·¸ë˜ë„ ë”œë¦¬ë²„ë¦¬ ì¸¡ë©´ì—ì„  ê´œì°®ì•˜ë˜ ê²ƒ ê°™ë‹¤.

## ì½”ë“œ ë¦¬íŒ©í† ë§
- í›… ë¶„ë¦¬ -> ë°˜ë³µë˜ëŠ” ì½”ë“œê°€ ë§ì•„ì„œ useHookìœ¼ë¡œ ë¶„ë¦¬í•´ì£¼ì—ˆë‹¤.

## ğŸŸ  ì „
```javascript
import "../style/pages/Join.css"
import Header from "../components/Header"
import InfoInput from "../components/InfoInput"
import { PurpleLongBtn, NoStyleButton } from "../components/Button"
import { useNavigate } from "react-router-dom"
import { validateEmail, validatePassword, validateConfirmPassword ,validateNickname, setHelperMsgAndStyle } from "../util/validator"
import { useState } from "react"

function Join() {
    const nav = useNavigate()
    const [imageUrl, setImageUrl] = useState(null);

    const [email, setEmail] = useState("")
    const [emailHelperMsg, setEmailHelperMsg] = useState("");
    const [emailHelperStyle, setEmailHelperStyle] = useState("error");
    const [isEmailValid, setIsEmailValid] = useState(false);

    const [password, setPassword] = useState("")
    const [passwordHelperMsg, setPasswordHelperMsg] = useState("");
    const [passwordHelperStyle, setPasswordHelperStyle] = useState("error");
    const [isPasswordValid, setIsPasswordValid] = useState(false);

    const [confirmPassword, setConfirmPassword] = useState("")
    const [confirmPasswordHelperMsg, setConfirmPasswordHelperMsg] = useState("");
    const [confirmPasswordHelperStyle, setConfirmPasswordHelperStyle] = useState("error");
    const [isConfirmPasswordValid, setIsConfirmPasswordValid] = useState(false);

    const [nickname, setNickname] = useState("")
    const [nicknameHelperMsg, setNicknameHelperMsg] = useState("");
    const [nicknameHelperStyle, setNicknameHelperStyle] = useState("error");
    const [isNicknameValid, setIsNicknameValid] = useState(false);
    
    const handleFormSubmit = (e) => {
        e.preventDefault();
        
        if (isEmailValid && isPasswordValid && isConfirmPasswordValid && isNicknameValid) {
            console.log("íšŒì›ê°€ì… ì™„ë£Œ");
            // íšŒì›ê°€ì… ë¡œì§
            
        } else {
            console.log("ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥ê°’ì´ ìˆìŠµë‹ˆë‹¤.");
        }
    }

    const handleImageChange = (e) => {
        const file = e.target.files[0]
        if (file) {
            const reader = new FileReader()
            reader.onloadend = () => {
                setImageUrl(reader.result)
            }
            reader.readAsDataURL(file)
        }
    }

    const handleEmailChange = (e) => {
        const emailValue = e.target.value;
        setEmail(emailValue);
        const emailValidation = validateEmail(emailValue);
        setHelperMsgAndStyle(setEmailHelperMsg, setEmailHelperStyle, emailValidation);
        setIsEmailValid(emailValidation.isValid);
    };

    const handlePasswordChange = (e) => {
        const passwordValue = e.target.value;
        setPassword(passwordValue);
        const passwordValidation = validatePassword(passwordValue);
        setHelperMsgAndStyle(setPasswordHelperMsg, setPasswordHelperStyle, passwordValidation);
        setIsPasswordValid(passwordValidation.isValid);
    };

    const handleConfirmPasswordChange = (e) => {
        const confirmPasswordValue = e.target.value;
        setConfirmPassword(confirmPasswordValue);
        const confirmPasswordValidation = validateConfirmPassword(password, confirmPasswordValue);
        setHelperMsgAndStyle(setConfirmPasswordHelperMsg, setConfirmPasswordHelperStyle, confirmPasswordValidation);
        setIsConfirmPasswordValid(confirmPasswordValidation.isValid);
    };

    const handleNicknameChange = (e) => {
        const nicknameValue = e.target.value;
        setNickname(nicknameValue);
        const nicknameValidation = validateNickname(nicknameValue);
        setHelperMsgAndStyle(setNicknameHelperMsg, setNicknameHelperStyle, nicknameValidation);
        setIsNicknameValid(nicknameValidation.isValid);
    };

    return (
        <>
            <Header showBackButton={true} showCircleButton={false} nav={nav} />
            <form id="joinForm" onSubmit={handleFormSubmit}>
                <div className="title" style={{marginTop:"70px"}}>íšŒì›ê°€ì…</div>
                <div className="InputBox">
                    <div className="InputBoxTitle">í”„ë¡œí•„ ì‚¬ì§„</div>
                    <div className="prf-img">
                        <input
                        className="image"
                        id="fileUpload"
                        type="file"
                        accept=".jpg,.png"
                        name="userPicture"
                        onChange={handleImageChange}
                        />
                        <label 
                            id="fileUpload-label" 
                            htmlFor="fileUpload"
                            className={imageUrl ? 'has-image' : ''}
                            style={imageUrl ? { backgroundImage: `url(${imageUrl})` } : {}}
                        ></label>
                    </div>
                </div>
                <InfoInput
                    title="ì´ë©”ì¼"
                    type="email"
                    placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"
                    value={email}
                    onChange={handleEmailChange}
                    helperMsg={emailHelperMsg}
                    helperStyle={emailHelperStyle}
                />
                <InfoInput
                    title="ë¹„ë°€ë²ˆí˜¸"
                    type="password"
                    placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                    value={password}
                    onChange={handlePasswordChange}
                    helperMsg={passwordHelperMsg}
                    helperStyle={passwordHelperStyle}
                />
                <InfoInput
                    title="ë¹„ë°€ë²ˆí˜¸ í™•ì¸"
                    type="password"
                    placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ í•œ ë²ˆ ë”ì…ë ¥í•˜ì„¸ìš”"
                    value={confirmPassword}
                    onChange={handleConfirmPasswordChange}
                    helperMsg={confirmPasswordHelperMsg}
                    helperStyle={confirmPasswordHelperStyle}
                />
                <InfoInput
                    title="ë‹‰ë„¤ì„"
                    type="text"
                    placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”"
                    value={nickname}
                    onChange={handleNicknameChange}
                    helperMsg={nicknameHelperMsg}
                    helperStyle={nicknameHelperStyle}
                />
                <PurpleLongBtn ButtonName="íšŒì›ê°€ì…" />
            </form >
            <NoStyleButton ButtonName="ë¡œê·¸ì¸í•˜ëŸ¬ ê°€ê¸°" onClick={() => nav('/')} />
        </>
    )
}

export default Join
```

## ğŸŸ¢ í›„
```javascript
import "../style/pages/Join.css";
import Header from "../components/Header";
import InfoInput from "../components/InfoInput";
import { PurpleLongBtn, NoStyleButton } from "../components/Button";
import { useNavigate } from "react-router-dom";
import { validateEmail, validatePassword, validateConfirmPassword, validateNickname } from "../util/validator";
import useValidation from "../hooks/useValidation";
import { useState } from "react";

function Join() {
    const nav = useNavigate();
    const [imageUrl, setImageUrl] = useState(null);

    const {
        value: email,
        helperMsg: emailHelperMsg,
        helperStyle: emailHelperStyle,
        isValid: isEmailValid,
        handleChange: handleEmailChange
    } = useValidation("", validateEmail);

    const {
        value: password,
        helperMsg: passwordHelperMsg,
        helperStyle: passwordHelperStyle,
        isValid: isPasswordValid,
        handleChange: handlePasswordChange
    } = useValidation("", validatePassword);

    const {
        value: confirmPassword,
        helperMsg: confirmPasswordHelperMsg,
        helperStyle: confirmPasswordHelperStyle,
        isValid: isConfirmPasswordValid,
        handleChange: handleConfirmPasswordChange
    } = useValidation("", value => validateConfirmPassword(password, value));

    const {
        value: nickname,
        helperMsg: nicknameHelperMsg,
        helperStyle: nicknameHelperStyle,
        isValid: isNicknameValid,
        handleChange: handleNicknameChange
    } = useValidation("", validateNickname);

    const handleFormSubmit = (e) => {
        e.preventDefault();

        if (isEmailValid && isPasswordValid && isConfirmPasswordValid && isNicknameValid) {
            console.log("íšŒì›ê°€ì… ì™„ë£Œ");
            // íšŒì›ê°€ì… ë¡œì§
        } else {
            console.log("ìœ íš¨í•˜ì§€ ì•Šì€ ì…ë ¥ê°’ì´ ìˆìŠµë‹ˆë‹¤.");
        }
    };

    const handleImageChange = (e) => {
        const file = e.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onloadend = () => {
                setImageUrl(reader.result);
            };
            reader.readAsDataURL(file);
        }
    };

    return (
        <>
            <Header showBackButton={true} showCircleButton={false} nav={nav} />
            <form id="joinForm" onSubmit={handleFormSubmit}>
                <div className="title">íšŒì›ê°€ì…</div>
                <div className="InputBox">
                    <div className="InputBoxTitle">í”„ë¡œí•„ ì‚¬ì§„</div>
                    <div className="prf-img">
                        <input
                            className="image"
                            id="fileUpload"
                            type="file"
                            accept=".jpg,.png"
                            name="userPicture"
                            onChange={handleImageChange}
                        />
                        <label
                            id="fileUpload-label"
                            htmlFor="fileUpload"
                            className={imageUrl ? 'has-image' : ''}
                            style={imageUrl ? { backgroundImage: `url(${imageUrl})` } : {}}
                        ></label>
                    </div>
                </div>
                <InfoInput
                    title="ì´ë©”ì¼"
                    type="email"
                    placeholder="ì´ë©”ì¼ì„ ì…ë ¥í•˜ì„¸ìš”"
                    value={email}
                    onChange={handleEmailChange}
                    helperMsg={emailHelperMsg}
                    helperStyle={emailHelperStyle}
                />
                <InfoInput
                    title="ë¹„ë°€ë²ˆí˜¸"
                    type="password"
                    placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•˜ì„¸ìš”"
                    value={password}
                    onChange={handlePasswordChange}
                    helperMsg={passwordHelperMsg}
                    helperStyle={passwordHelperStyle}
                />
                <InfoInput
                    title="ë¹„ë°€ë²ˆí˜¸ í™•ì¸"
                    type="password"
                    placeholder="ë¹„ë°€ë²ˆí˜¸ë¥¼ í•œ ë²ˆ ë” ì…ë ¥í•˜ì„¸ìš”"
                    value={confirmPassword}
                    onChange={handleConfirmPasswordChange}
                    helperMsg={confirmPasswordHelperMsg}
                    helperStyle={confirmPasswordHelperStyle}
                />
                <InfoInput
                    title="ë‹‰ë„¤ì„"
                    type="text"
                    placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”"
                    value={nickname}
                    onChange={handleNicknameChange}
                    helperMsg={nicknameHelperMsg}
                    helperStyle={nicknameHelperStyle}
                />
                <PurpleLongBtn ButtonName="íšŒì›ê°€ì…" />
            </form>
            <NoStyleButton ButtonName="ë¡œê·¸ì¸í•˜ëŸ¬ ê°€ê¸°" onClick={() => nav('/')} />
        </>
    );
}

export default Join;

```
ì»¤ìŠ¤í…€ í›… : useValidation
```javascript
import { useState } from 'react';
import { setHelperMsgAndStyle } from '../util/validator';

const useValidation = (initialValue, validateFunction) => {
    const [value, setValue] = useState(initialValue);
    const [helperMsg, setHelperMsg] = useState("");
    const [helperStyle, setHelperStyle] = useState("error");
    const [isValid, setIsValid] = useState(false);

    const handleChange = (e) => {
        const value = e.target.value;
        setValue(value);
        const validation = validateFunction(value);
        setHelperMsgAndStyle(setHelperMsg, setHelperStyle, validation);
        setIsValid(validation.isValid);
    };

    return { value, helperMsg, helperStyle, isValid, handleChange };
};

export default useValidation;
```




# ğŸ±ì˜¤ëŠ˜ì˜ íšŒê³ 
- ìŠ¤í„°ë”” í•˜ê¸¸ ì •ë§ ì˜í–ˆë‹¤. íŒ€ì›ë“¤ê³¼ì˜ ì‹œë„ˆì§€ë„ ë” ë‚˜ëŠ”ë“¯?
- apië§Œ ë“¤ì–´ì˜¤ë©´ ë˜ê²Œ ì„¸íŒ… ì—´ì‹¬íˆ í•´ì•¼ê² ë‹¤.